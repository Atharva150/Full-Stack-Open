sequenceDiagram
    participant browser
    participant server

    %% assume SPA already loaded and shows existing notes (data.json fetched earlier)
    Note right of browser: User types new note into SPA input and clicks "Save"

    browser->>server: POST https://studies.cs.helsinki.fi/exampleapp/notes
    Note right of browser: JSON body: { content: "My new note", date: "2024-07-01", important: false }
    activate server
    server-->>server: validate + store new note
    server-->>browser: 201 Created + { id: 42, content: "My new note", ... }
    deactivate server

    Note right of browser: SPA receives created-note JSON
    Note right of browser: SPA updates local state (e.g. notesArray.push(createdNote)) and re-renders the list

    alt SPA prefers re-fetch after create
      browser->>server: GET https://studies.cs.helsinki.fi/exampleapp/data.json
      activate server
      server-->>browser: updated notes array including new note
      deactivate server
      Note right of browser: SPA re-renders DOM from fresh data.json
    else SPA updates local state only
      Note right of browser: DOM updated immediately from local state (no network)
    end
